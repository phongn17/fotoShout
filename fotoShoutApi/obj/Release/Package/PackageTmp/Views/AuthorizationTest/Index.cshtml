@{
    ViewBag.Title = "Index";
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval");
    <script type="text/javascript" src="~/Scripts/knockout-2.1.0.js"></script>
    <script type="text/javascript" src="~/Scripts/Inc/auth.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            ko.applyBindings(new AuthorizationViewModel('@ViewBag.ApiUrl'));
        });
    </script>
}

<div class="content-wrapper">
    <div data-bind="if: $root.error">
        <span class="message-error" data-bind="text: $root.error" />
    </div>
    <div data-bind="if: $root.msg">
        <span class="message-success" data-bind="text: $root.msg" />
    </div>
    <div>
        <h3>Request an authorization key</h3>
        <form id="auth-form" data-bind="submit: login">
            <fieldset>
                <legend>Login</legend>

                <div>
                    <div class="item-left">APIKey:</div>
                    <input type="text" id="APIKey" />
                </div>
                <div>
                    <div class="item-left">Email:</div>
                    <input type="text" id="Email" />
                </div>
                <div>
                    <div class="item-left">Password:</div>
                    <input type="password" id="Password" />
                </div>

                <p>
                    <input type="submit" value="Submit" />
                </p>
            </fieldset>
        </form>
    </div>
</div>

