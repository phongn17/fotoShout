@model IEnumerable<FotoShoutData.Models.EmailTemplate>

@{
    ViewBag.Title = "Email Templates";
    ViewBag.AppName = "fotoShout";
}

@Html.Partial("~/Views/Preferences/_PreferCommands.cshtml", "EmailTemplates")

<section id="main-panel">
    <div class="div-list">
        <h2>@ViewBag.Title</h2>
        <p>
            @Html.ActionLink("New Email Template", "Create")
        </p>
        <fieldset>
            <legend>@ViewBag.Title</legend>
            <table>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.EmailTemplateName)
                    </th>
                    <th></th>
                </tr>

            @foreach (var item in Model) {
                <tr class="row-item">
                    <td>
                        @Html.DisplayFor(modelItem => item.EmailTemplateName)
                    </td>
                    <td>
                        <p>
                            @Html.ActionLink(" ", "Edit", new { id = item.EmailTemplateId }, new { @class = "linkEdit" })
                            @Html.ActionLink(" ", "Delete", new { id = item.EmailTemplateId }, new { @class = "linkDelete" })
                        </p>
                    </td>
                </tr>
            }

            </table>
        </fieldset>
    </div>
</section>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript" src="@Url.Content("~/Scripts/inc/emailtemplates.js?1.3.0.10")"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            var tabCtrl = new TabControl('@Request.ApplicationPath');
            var initializer = new Initializer(tabCtrl, "preferences");
            var emailTemplates = new EmailTemplates();
        });
    </script>
}
