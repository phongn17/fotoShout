@model IEnumerable<FotoShoutData.Models.EventTDO>

@using FotoShoutPortal.Infrastructure;

@{
    var numEvents = Model.Count();
    FotoShoutData.Models.EventTDO ev = Model.Any() ? Model.First() : null;
}

@if (numEvents == 0) {
    <span id="message">There is no event.</span>
}
else {
    <table cellpadding="0" cellspacing="0" class="tbl-events">
        @for (var idx = 0; idx < Model.Count(); idx += 3) {
            <tr>
                <td>
                    @Html.Partial("_EventThumbnail", Model.ElementAt(idx))
                </td>
                @if ((idx + 1) < Model.Count()) {
                <td>
                    @Html.Partial("_EventThumbnail", Model.ElementAt(idx + 1))
                </td>
                }
                @if ((idx + 2) < Model.Count()) {
                <td>
                    @Html.Partial("_EventThumbnail", Model.ElementAt(idx + 2))
                </td>
                }
            </tr>
        }
    </table>
}
